{"ast":null,"code":"var _jsxFileName = \"/home/andy/Desktop/campus_buddy/frontend/src/components/LoginHooks.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useGoogleLogin } from 'react-google-login';\nimport { useNavigate } from \"react-router-dom\"; // refresh token\n\nimport { refreshTokenSetup } from '../utils/refreshToken';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './LoginHooks.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar clientId = '615520021367-sjvmtmuujlf91gicag6u1kr4b4mu76bq.apps.googleusercontent.com';\n\nfunction LoginHooks() {\n  _s();\n\n  var navigate = useNavigate();\n\n  var onSuccess = function onSuccess(res) {\n    console.log('Login Success: currentUser:', res.profileObj);\n    var formData = new FormData();\n    formData.append(\"first_name\", res.profileObj.givenName);\n    formData.append(\"last_name\", res.profileObj.familyName);\n    formData.append(\"name\", res.profileObj.name);\n    formData.append(\"image_url\", res.profileObj.imageUrl);\n    formData.append(\"email\", res.profileObj.email);\n    fetch(\"/loginUser\", {\n      method: \"POST\",\n      body: formData\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      console.log(data);\n      navigate(\"/home\", {\n        params: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    refreshTokenSetup(res);\n  };\n\n  var onFailure = function onFailure(res) {\n    console.log('Login failed: res:', res);\n  };\n\n  var _useGoogleLogin = useGoogleLogin({\n    onSuccess: onSuccess,\n    onFailure: onFailure,\n    clientId: clientId,\n    isSignedIn: true,\n    accessType: 'offline' // responseType: 'code',\n    // prompt: 'consent',\n\n  }),\n      signIn = _useGoogleLogin.signIn;\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: signIn,\n    className: \"button\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/login2.png\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginHooks, \"jf8w9WmOHkApQjZEV0SEqHlQof8=\", false, function () {\n  return [useNavigate, useGoogleLogin];\n});\n\n_c = LoginHooks;\nexport default LoginHooks;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginHooks\");","map":{"version":3,"sources":["/home/andy/Desktop/campus_buddy/frontend/src/components/LoginHooks.js"],"names":["React","useGoogleLogin","useNavigate","refreshTokenSetup","clientId","LoginHooks","navigate","onSuccess","res","console","log","profileObj","formData","FormData","append","givenName","familyName","name","imageUrl","email","fetch","method","body","then","response","json","data","params","catch","error","onFailure","isSignedIn","accessType","signIn"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,SAASC,WAAT,QAA4B,kBAA5B,C,CAEA;;AACA,SAASC,iBAAT,QAAkC,uBAAlC;AAEA,OAAO,sCAAP;AACA,OAAO,kBAAP;;AAEA,IAAMC,QAAQ,GACZ,0EADF;;AAGA,SAASC,UAAT,GAAsB;AAAA;;AACpB,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;;AAEA,MAAMK,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAS;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAAG,CAACG,UAA/C;AACA,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BN,GAAG,CAACG,UAAJ,CAAeI,SAA7C;AACAH,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6BN,GAAG,CAACG,UAAJ,CAAeK,UAA5C;AACAJ,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBN,GAAG,CAACG,UAAJ,CAAeM,IAAvC;AACAL,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6BN,GAAG,CAACG,UAAJ,CAAeO,QAA5C;AACAN,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBN,GAAG,CAACG,UAAJ,CAAeQ,KAAxC;AACAC,IAAAA,KAAK,CAAC,YAAD,EAAe;AAClBC,MAAAA,MAAM,EAAE,MADU;AAElBC,MAAAA,IAAI,EAAEV;AAFY,KAAf,CAAL,CAIGW,IAJH,CAIQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KAJR,EAKGF,IALH,CAKQ,UAACG,IAAD,EAAU;AACdjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,IAAZ;AACApB,MAAAA,QAAQ,CAAC,OAAD,EAAU;AAAEqB,QAAAA,MAAM,EAAED;AAAV,OAAV,CAAR;AACD,KARH,EASGE,KATH,CASS,UAACC,KAAD,EAAW;AAChBpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAZ;AACD,KAXH;AAYA1B,IAAAA,iBAAiB,CAACK,GAAD,CAAjB;AACD,GArBD;;AAuBA,MAAMsB,SAAS,GAAG,SAAZA,SAAY,CAACtB,GAAD,EAAS;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,GAAlC;AACD,GAFD;;AAIA,wBAAmBP,cAAc,CAAC;AAChCM,IAAAA,SAAS,EAATA,SADgC;AAEhCuB,IAAAA,SAAS,EAATA,SAFgC;AAGhC1B,IAAAA,QAAQ,EAARA,QAHgC;AAIhC2B,IAAAA,UAAU,EAAE,IAJoB;AAKhCC,IAAAA,UAAU,EAAE,SALoB,CAMhC;AACA;;AAPgC,GAAD,CAAjC;AAAA,MAAQC,MAAR,mBAAQA,MAAR;;AAUA,sBACE;AAAQ,IAAA,OAAO,EAAEA,MAAjB;AAAyB,IAAA,SAAS,EAAC,QAAnC;AAAA,2BACE;AAAK,MAAA,GAAG,EAAC,aAAT;AAAuB,MAAA,GAAG,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA7CQ5B,U;UACUH,W,EA6BED,c;;;KA9BZI,U;AA8CT,eAAeA,UAAf","sourcesContent":["import React from 'react';\nimport { useGoogleLogin } from 'react-google-login';\nimport { useNavigate } from \"react-router-dom\";\n\n// refresh token\nimport { refreshTokenSetup } from '../utils/refreshToken';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './LoginHooks.css';\n\nconst clientId =\n  '615520021367-sjvmtmuujlf91gicag6u1kr4b4mu76bq.apps.googleusercontent.com';\n\nfunction LoginHooks() {\n  const navigate = useNavigate();\n\n  const onSuccess = (res) => {\n    console.log('Login Success: currentUser:', res.profileObj);\n    const formData = new FormData();\n    formData.append(\"first_name\", res.profileObj.givenName);\n    formData.append(\"last_name\", res.profileObj.familyName);\n    formData.append(\"name\", res.profileObj.name);\n    formData.append(\"image_url\", res.profileObj.imageUrl);\n    formData.append(\"email\", res.profileObj.email);\n    fetch(\"/loginUser\", {\n      method: \"POST\",\n      body: formData,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        navigate(\"/home\", { params: data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    refreshTokenSetup(res);\n  };\n\n  const onFailure = (res) => {\n    console.log('Login failed: res:', res);\n  };\n\n  const { signIn } = useGoogleLogin({\n    onSuccess,\n    onFailure,\n    clientId,\n    isSignedIn: true,\n    accessType: 'offline',\n    // responseType: 'code',\n    // prompt: 'consent',\n  });\n\n  return (\n    <button onClick={signIn} className=\"button\">\n      <img src=\"/login2.png\" alt=\"\"></img>\n    </button>\n  );\n}\nexport default LoginHooks;"]},"metadata":{},"sourceType":"module"}